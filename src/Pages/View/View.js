import React, {useEffect, useRef} from 'react';
import { Canvas } from '@react-three/fiber';
import "bootstrap/dist/css/bootstrap.min.css";
import Button from "react-bootstrap/Button"
import Box from "../../Components/Box/Box";
import Header from "../../Layout/Header/Header";
import Layout from "../../Layout/Layout"
import { Link } from "react-router-dom";
import { useToasts } from 'react-toast-notifications';
import { connect } from 'react-redux';
import { useLocation } from 'react-router-dom';
import {addBox, addMultipleBoxes, removeBox, removeAllBoxes} from "../../State/actions/boxSelectionActions";
import {deleteList} from "../../State/actions/listsActions";
import { useNavigate } from "react-router-dom";
import {RoutesNames} from '../../routes/RoutesNames';
const View = ({lists, addBox, addMultipleBoxes, removeBox, removeAllBoxes, selectedBoxes, deleteList}) => {
    const location = useLocation();
    const { addToast } = useToasts();
    let navigate = useNavigate();
    const list = lists.filter((item) => item.id === location.state.id);
    const boxes = []
    const randomPositionX = [
        0.11645579421446062,
        0.8144839642801913,
        0.8983073282485723,
        0.0766645465253899,
        0.39978166302706786,
        0.38593822507513864,
        0.02938093350643256,
        0.756385629884812,
        0.22283995645455557,
        0.713810582200056,
        0.5385498868954488,
        0.14058318438128747,
        0.7624121055394057,
        0.6382412817109195,
        0.8407204080412536,
        0.36528565835347804,
        0.6732576127338792,
        0.2526560501892037,
        0.4232143512331972,
        0.21343372415077888,
        0.1465157890386679,
        0.2752114426020631,
        0.11241750943984807,
        0.6010000063381962,
        0.530562036710152,
        0.7657436721852138,
        0.9471491244532175,
        0.15251458804807028,
        0.1749939116789052,
        0.7480070832131311,
        0.5100226381440593,
        0.1541462865899026,
        0.8731768633542436,
        0.847118414584384,
        0.16010319345159751,
        0.5473794656570532,
        0.6205978141742048,
        0.45076576440136784,
        0.6994132033800533,
        0.4664259460914306,
        0.4450244717814771,
        0.2571340628394658,
        0.7878995884669455,
        0.34266393662461514,
        0.9523038609897205,
        0.6165012709184978,
        0.8632807074254536,
        0.27067687502151205,
        0.3071036050310001,
        0.7269877533867395,
        0.6841833971628397,
        0.3018442711815632,
        0.38451365926642733,
        0.24940821121776935,
        0.6066946543002205,
        0.8344716255587619,
        0.22208300075279275,
        0.42425917368268573,
        0.8044826998409709,
        0.21276717456394323,
        0.8097610940820659,
        0.45004015450734425,
        0.4292005361320155,
        0.6915313936738201,
        0.7502466207830967,
        0.10511113395713134,
          0.6267178826487256,
          0.9327612620301955,
          0.3871074337063971,
          0.963851711616927,
          0.23665968534881188,
          0.1507830612918184,
          0.3019843374900961,
          0.4604217860312394,
          0.8898573381700599,
          0.3443662579289861,
          0.7072661437984182,
          0.21956707114434915,
          0.7580739202604769,
          0.4318407870070897,
          0.8278105684420056,
          0.07114506219002625,
          0.19249803533103105,
          0.1066799914737302,
          0.7279401550729938,
          0.9476347473732081,
          0.6817704913381382,
          0.6322965151334807,
          0.16469841409359054,
          0.20105776092353067,
          0.5762272268620647,
          0.5591385329094463,
          0.45892544433994265,
          0.026644083663266205,
          0.8125751171838786,
          0.7250939730023243,
          0.5253500845785148,
          0.5059356961856558,
          0.6066287174671037,
          0.3774341437251558,
    ]
    const randomPositionY = [
          0.35987747421188687,
          0.1565057440299562,
          0.9156724485101662,
          0.4778692527949213,
          0.4299234149039668,
          0.23768440459596074,
          0.21355059510734642,
          0.8356428624860182,
          0.8714365262347998,
          0.5288631366832293,
          0.5823108075527719,
          0.4604776491551965,
          0.2516028980341345,
          0.03821429590231373,
          0.11543751499384824,
          0.31136929986769846,
          0.007203359872199888,
          0.5041705371448917,
          0.0380348317267154,
          0.8092385515948668,
          0.4303296245553978,
          0.6177344154082158,
          0.8261224783740051,
          0.6777809191296191,
          0.37407941041806736,
          0.9565003339122251,
          0.9409485079747828,
          0.6122786019486972,
          0.9581593182432551,
          0.9031413614582462,
          0.45181753974765493,
          0.29439596840798066,
          0.012957670939708121,
          0.6868473387739302,
          0.25817370528081707,
          0.42456201933335547,
          0.2647084519360181,
          0.4818862703656508,
          0.23345342924972012,
          0.596021276364852,
          0.35243083340163395,
          0.8987785047437404,
          0.6709197494817616,
          0.11742518964877324,
          0.6819725739241749,
          0.9057523941237051,
          0.6374663356295025,
          0.08861785926499754,
          0.07349047117592344,
          0.4764452245986295,
          0.5593973741528939,
          0.4051871336474042,
          0.12281149959228821,
          0.053784799202164724,
          0.8035094254883917,
          0.6503234911453386,
          0.6750330559324753,
          0.354670334069803,
          0.5812226931245417,
          0.8184494927801387,
          0.9691331728740245,
          0.20370295771285574,
          0.9330691535988027,
          0.32395468416821793,
          0.002458091014779784,
          0.010376805387430466,
          0.9299686349836898,
          0.4317020115851773,
          0.20764661605959,
          0.6786559173474696,
          0.5497523945175435,
          0.17749479147721914,
          0.803834772007882,
          0.8964293384638473,
          0.6732847693604742,
          0.7669283517893672,
          0.1496516958599543,
          0.5380520458670321,
          0.9103051621486324,
          0.6530840712410169,
          0.577096066855193,
          0.4811787071069036,
          0.8139271643178099,
          0.41803847224737845,
          0.37412240627582904,
          0.8718711223288789,
          0.6142061327820396,
          0.8055546126597413,
          0.870274870323565,
          0.44093885579710435,
          0.120082009704358,
          0.37133936531949296,
          0.7388962258173668,
          0.6284862934998015,
          0.1234929137662999,
          0.6372409163237966,
          0.539100285412065,
          0.3475482508296932,
          0.1565907945359899,
          0.7843683036343785,
    ]
    const randomPositionZ = [
          0.723303553114711,
          0.8195800973385008,
          0.9412608143912451,
          0.7023265185970708,
          0.8776945960270359,
          0.009988589493401978,
          0.6920627951728708,
          0.06981385013493302,
          0.6436919285096214,
          0.9732888680713649,
          0.4760179990269895,
          0.22801046644293343,
          0.7513071610912301,
          0.2747621447728372,
          0.9333931376579365,
          0.44410054549759304,
          0.010901175105954453,
          0.7426024077650704,
          0.6869841563555168,
          0.6417685932268753,
          0.8546711883455267,
          0.18209039736123245,
          0.7385172185981232,
          0.492342864312566,
          0.0007197671766714375,
          0.508838736731686,
          0.37765114112678044,
          0.1443618085500069,
          0.812067995965376,
          0.17363362956221184,
          0.8851602168927224,
          0.7207155025886385,
          0.8156364020330145,
          0.5334130523333505,
          0.2546830381506091,
          0.06179677660212746,
          0.34730643311545517,
          0.012919908140649028,
          0.8845843573717378,
          0.1408056970554492,
          0.7405679925582214,
          0.8297057690253635,
          0.135573894146358,
          0.41749335981101665,
          0.1875664504979886,
          0.846665696567108,
          0.28185203294608474,
          0.20634608306782565,
          0.9675584640350894,
          0.1669139756580822,
          0.8161563803396488,
          0.6547250540749534,
          0.25896003811230117,
          0.5633873502517734,
          0.6067847971363041,
          0.8000663217197521,
          0.05514521619110746,
          0.07180656688867115,
          0.6518654822595942,
          0.18096372933700455,
          0.9412500595795184,
          0.3535646337898146,
          0.85322431908777,
          0.4156671210946199,
          0.48380395556851385,
          0.5591271628552821,
          0.38847889614684084,
          0.32194588433457705,
          0.975135288935131,
          0.05498043683752263,
          0.24836511152838026,
          0.4472365945546706,
          0.4376526999049337,
          0.4942556536508875,
          0.23598843252750434,
          0.4139846514583667,
          0.8961259676875477,
          0.6990401761074712,
          0.9442543809460751,
          0.025146581141596513,
          0.11252741357257423,
          0.5789237009238688,
          0.4823686603467172,
          0.03721569462269625,
          0.2116455825491821,
          0.9620153735967822,
          0.4736724248916695,
          0.08963387882424256,
          0.4695685565641765,
          0.549209095073915,
          0.4489319323681973,
          0.16944944640780113,
          0.1648263793431759,
          0.5701947472084938,
          0.8450597635463091,
          0.3663750027612287,
          0.16358258092012345,
          0.08459649087601884,
          0.7692294678239608,
          0.7006930239496147,
    ]
    const randomScaleX = [
          0.7688609519371212,
          0.6302315409236925,
          0.07593179211787704,
          0.5224609730620129,
          0.12172872647028332,
          0.32762687538567414,
          0.8887347448691849,
          0.43795748994759043,
          0.8579911740889288,
          0.13124100855903809,
          0.8279918726642774,
          0.2217313607625122,
          0.07994372597721378,
          0.3996064857676427,
          0.9719451720276719,
          0.503083317917979,
          0.8718588185154006,
          0.9600399484903672,
          0.6793615871727072,
          0.7595995917385432,
          0.8378150922271221,
          0.6660426977308604,
          0.15796056669859282,
          0.2741643887255272,
          0.2649494541093802,
          0.8565586422794516,
          0.6659227880702248,
          0.5296439229792695,
          0.44623116058656365,
          0.8245179766472344,
          0.6400256394035506,
          0.7798865085853404,
          0.8008755587997773,
          0.4005431243296502,
          0.34669463145427937,
          0.6818399196141574,
          0.3533970421754795,
          0.24271932532559926,
          0.04503069174968055,
          0.4649542326086329,
          0.21663735101319936,
          0.47086158906263886,
          0.1633060726957536,
          0.1960752340356562,
          0.21939201966557653,
          0.43788424854807184,
          0.5886462319876629,
          0.40864089637774437,
          0.49856121593696945,
          0.43881286824157173,
          0.5672145853457322,
          0.06223606171683871,
          0.9402675244761456,
          0.29886243561578163,
          0.5164282111518073,
          0.3628347172784021,
          0.29848407894708995,
          0.6663886169882507,
          0.4194024025751506,
          0.1655983727880268,
          0.2862173624622657,
          0.10000294039340263,
          0.08872927819830156,
          0.013061432081446833,
          0.14309458427738875,
          0.8366601893901773,
          0.5543143751692436,
          0.2022494148287579,
          0.7917455463422345,
          0.8871078792554319,
          0.265994425484946,
          0.8603616372253249,
          0.9830100864142965,
          0.584837324124738,
          0.06765347783981168,
          0.12425562105078458,
          0.5665138150224975,
          0.9553414358976471,
          0.8841203427416278,
          0.8126087716226873,
          0.9427726856297527,
          0.7794405410892089,
          0.6798280501541811,
          0.767047738305378,
          0.8402200634309784,
          0.4842334177865104,
          0.4432485797566088,
          0.23256717774169222,
          0.985400242142672,
          0.0750338953452867,
          0.5724623197972383,
          0.6823273724224548,
          0.4705929678799381,
          0.35791270934714947,
          0.0965195742847913,
          0.7705668488840294,
          0.8454237559618936,
          0.06740920062553069,
          0.9081287405010359,
          0.7215941860751671,
    ]
    const randomScaleY = [
          0.3992666135456011,
          0.18575315132948012,
          0.6605371584277344,
          0.6766497619452936,
          0.06788264912339681,
          0.33854294194894985,
          0.5493002483114702,
          0.9020337495771185,
          0.823821863873399,
          0.07875130167133815,
          0.4025931121924773,
          0.4105126166448203,
          0.3208804754681913,
          0.4425906321700752,
          0.3723916157445748,
          0.0357921087767239,
          0.10699472139122879,
          0.16224579621990975,
          0.8935689809522633,
          0.3319088457067594,
          0.3757333068656359,
          0.3815580483955343,
          0.6150128878914158,
          0.297263676411442,
          0.11042492078649135,
          0.8094257815728811,
          0.6282014148418904,
          0.8428557462310537,
          0.8290889756189486,
          0.9146417478429316,
          0.14021675411727608,
          0.461606149120644,
          0.2851481834456162,
          0.8062968405087085,
          0.5942655214236583,
          0.8230537715991213,
          0.1865918847421748,
          0.925436951927761,
          0.7430502869091014,
          0.2530196997270602,
          0.8681400217437794,
          0.22854657025831093,
          0.6512156342150857,
          0.28957630085759356,
          0.6625319280246684,
          0.44709621128738863,
          0.030317884557847785,
          0.7067922245475109,
          0.36523137494775315,
          0.08667913678142991,
          0.3642820253059009,
          0.09633513579958564,
          0.31453250464074944,
          0.7919161422240855,
          0.35635903680084713,
          0.43572807298925564,
          0.9277337412556264,
          0.6937531276490303,
          0.9718549500508535,
          0.8863046052062904,
          0.9419632295986653,
          0.9341655579621886,
          0.916549342903656,
          0.20217911665691646,
          0.2238033293693369,
          0.4928265992282901,
          0.5090659171228673,
          0.5091533530403085,
          0.9435897779233171,
          0.13001737569371863,
          0.4326594018076333,
          0.6457738929595307,
          0.5634070763330405,
          0.16307696819322337,
          0.9686602180627999,
          0.7834381753246966,
          0.8735887612205533,
          0.6468684542851784,
          0.6011697696691882,
          0.975059054752266,
          0.8385343827491365,
          0.9146166712039672,
          0.5532157835156333,
          0.6828350290123395,
          0.9766740925586976,
          0.37658249486395357,
          0.8077057334593021,
          0.9065140212967437,
          0.9093846589016255,
          0.038305948669806744,
          0.8867079031750369,
          0.21553286299129515,
          0.10421339092019144,
          0.7697433304672472,
          0.19156789123849194,
          0.6037962446484253,
          0.18454085229920691,
          0.25823918308438354,
          0.9189151263145383,
          0.16021944716131165,
    ]
    const randomScaleZ = [
          0.9879863700165972,
          0.053610862877408794,
          0.18639559572227915,
          0.956438763128661,
          0.4922404812134802,
          0.7829062701659089,
          0.7900540279013908,
          0.9478177299355501,
          0.6216833099717123,
          0.8754277032204834,
          0.744983916316525,
          0.9482522770208102,
          0.956422173669569,
          0.9833089023507617,
          0.9802800852186941,
          0.11870939633856858,
          0.557716165931627,
          0.506766005402552,
          0.41179205489125925,
          0.08499270829038852,
          0.028054677600822586,
          0.2544867443109622,
          0.417264923367636,
          0.38463990774673174,
          0.7377393112021802,
          0.8925101682733299,
          0.47827988157346524,
          0.5124912054187487,
          0.34309303101277466,
          0.6824006547826227,
          0.6717649902076124,
          0.6499843708739841,
          0.1239401820414463,
          0.015495022336223574,
          0.8018146816810512,
          0.9653497390095129,
          0.23837557841456625,
          0.6704563467807994,
          0.8710778986501975,
          0.43234090201284614,
          0.6660658436755476,
          0.7138210482457719,
          0.37103173952314816,
          0.29549958729638215,
          0.951303050957806,
          0.5218445695833298,
          0.32576045491109396,
          0.7580769204030231,
          0.7044691548335236,
          0.024334237147564552,
          0.5690523823002649,
          0.555403304012047,
          0.1772981348100695,
          0.3038789983592891,
          0.14495897017072878,
          0.8515504498906232,
          0.7201703904643182,
          0.9062700211088497,
          0.9606802940723318,
          0.3670809964989785,
          0.17531997920118547,
          0.9629991055623237,
          0.1951672797477615,
          0.194982410175232,
          0.06836820226896068,
          0.7488428464616901,
          0.3265129756836529,
          0.6843773269252085,
          0.17511428518008665,
          0.9322160691745465,
          0.6671528439270569,
          0.9562665884659982,
          0.6095927914494632,
          0.637717023160332,
          0.6468506172310764,
          0.048310620299490514,
          0.8861307708973511,
          0.1424718450021636,
          0.4716606154343814,
          0.9500422303967466,
          0.4711442438115794,
          0.04495407928915185,
          0.05070462050992597,
          0.6480773461429099,
          0.5350963649761744,
          0.033119687773311535,
          0.20630473430591922,
          0.8908959885764305,
          0.6887678675652988,
          0.6153702174559221,
          0.9063488954960432,
          0.13485809928973969,
          0.4007400294133998,
          0.2583001687643649,
          0.290277289198672,
          0.8363891289555785,
          0.24636671331650084,
          0.8136333837467371,
          0.526429357707848,
          0.5004048429627885,
    ]
    const randomRotationX = [
          0.9600179712743611,
          0.4686420363360073,
          0.36076579753000226,
          0.003579538802078286,
          0.13090244628503478,
          0.27582321704970125,
          0.9835157082880517,
          0.10707462539487089,
          0.2975829848676219,
          0.7803567889786822,
          0.7025461692782047,
          0.9450282353116148,
          0.32345210955963033,
          0.5829851775369974,
          0.3162095497062094,
          0.1185249132645041,
          0.4107872231605687,
          0.14421290757477823,
          0.07798071129416306,
          0.9017895050026445,
          0.16074398822126068,
          0.15595460282832008,
          0.21112462956190736,
          0.7867873790751847,
          0.936415828357152,
          0.8540150166153488,
          0.8280593200372366,
          0.23288374366818076,
          0.9808346596480968,
          0.944756949930792,
          0.8663169545384484,
          0.8260833039910849,
          0.055546563812786554,
          0.29505378291424345,
          0.06602040190215819,
          0.663583224846733,
          0.5934401178563651,
          0.01570633207869565,
          0.264517442994753,
          0.2594074513773661,
          0.5779117230833433,
          0.7169502059490789,
          0.8541808290867332,
          0.9141347312848556,
          0.7303765867453751,
          0.20102641199891647,
          0.8656948251771679,
          0.727660632064365,
          0.185692402850973,
          0.37986546065902416,
          0.7669096033653968,
          0.4693165936676629,
          0.17820862702763307,
          0.47407781992920595,
          0.848199922136254,
          0.19538682905918958,
          0.9311451592899305,
          0.05323141355667205,
          0.42607240388914236,
          0.9049033339729233,
          0.153583643296618,
          0.9792227610237094,
          0.7698204658337906,
          0.23369064646882864,
          0.5131066644414224,
          0.9645220299558084,
          0.9289937299156386,
          0.5471435345044293,
          0.770077597569889,
          0.5763267708955957,
          0.8109663778802723,
          0.4325890835072208,
          0.07916189379242988,
          0.5947318164364275,
          0.9563088001206337,
          0.7345902290527015,
          0.2225693489902234,
          0.7676577891204157,
          0.9810152177144826,
          0.6075685700072286,
          0.8969261998617764,
          0.35451039457811784,
          0.8409994049844367,
          0.7293865315718158,
          0.41486180983901066,
          0.302257793718679,
          0.678605597314879,
          0.7204097157451534,
          0.7470618372920244,
          0.4516861443673146,
          0.5185722774914681,
          0.10508096930740018,
          0.20378736036953193,
          0.7906107071160493,
          0.36122311988612554,
          0.7683226504578928,
          0.7975678276318201,
          0.8974478803263286,
          0.41329240995338745,
          0.9990044043519815,
    ]
    const randomRotationY = [
          0.9128286691852099,
          0.7674060753581238,
          0.5204586939949292,
          0.24791715073792275,
          0.5394829314209921,
          0.577262892022343,
          0.05616286392612513,
          0.8306662130270175,
          0.4324878145692548,
          0.3971078705248954,
          0.4528946274034853,
          0.4035040607595657,
          0.30797742715023624,
          0.04389123885066426,
          0.8342306015853092,
          0.9783344242023646,
          0.30226226642544285,
          0.2053839647052209,
          0.7140629050869738,
          0.17499659947738344,
          0.45522741717613435,
          0.12623992870043543,
          0.5557034996439254,
          0.5413028158066089,
          0.7336500774633592,
          0.26898987124779894,
          0.9142673330025453,
          0.002056088375356868,
          0.3475979511848708,
          0.5979387492278949,
          0.2542175311435082,
          0.10880546959700355,
          0.03295303598374799,
          0.25515902469828955,
          0.23010848802551842,
          0.18032687199678055,
          0.7534364955735959,
          0.5648690756593726,
          0.7395314127647674,
          0.6023267167463575,
          0.37809984093920956,
          0.6737551304063518,
          0.6386064473399791,
          0.2170150979354335,
          0.05731681355445839,
          0.620001096441823,
          0.6702629502055513,
          0.964872069349928,
          0.4647967727746092,
          0.6837990023365716,
          0.4507392824649952,
          0.9753489567588922,
          0.7930532451609078,
          0.031079077807563804,
          0.8768097293964463,
          0.9957989552480129,
          0.5962273844650232,
          0.17999284326743537,
          0.284163214387432,
          0.7884378971247543,
          0.9219181424456533,
          0.3535207913539242,
          0.23764059329362253,
          0.10096360178747865,
          0.2233849372531247,
          0.9857568391679175,
          0.2685471749774433,
          0.9962975812077945,
          0.3053106851278329,
          0.09311096881299719,
          0.5833377763707701,
          0.3492283537425589,
          0.019226020504070185,
          0.47892239764679245,
          0.864827102133406,
          0.6102962700755874,
          0.21464859545882264,
          0.2280729835015165,
          0.46247028837594084,
          0.10539596633933024,
          0.8343785147181251,
          0.7251700055343828,
          0.5976906133353992,
          0.9737794278642204,
          0.03278218706766589,
          0.5373925923065699,
          0.9752670977071451,
          0.848809900327425,
          0.8081998534222421,
          0.4143053446034257,
          0.22968558503594316,
          0.9018031203815218,
          0.2605185583470295,
          0.6298362208876076,
          0.7574690393520609,
          0.9412884574069027,
          0.5561040031610209,
          0.8148370857458138,
          0.244898178484229,
          0.09218685712762698,
    ]
    const randomRotationZ = [
         0.8001411933121054,
          0.852459122293673,
          0.4691876924973821,
          0.22448170507110565,
          0.04646833263600736,
          0.18719935171242907,
          0.22241196654903406,
          0.7493699118957076,
          0.1421850952316115,
          0.4371746543462671,
          0.1936317615824219,
          0.11167663811608186,
          0.3658762531832289,
          0.8850567920920513,
          0.509409907761065,
          0.10323750893813743,
          0.06680991748397203,
          0.0325297229810404,
          0.9189464219272774,
          0.4255946459681945,
          0.6776734519869692,
          0.10040570704192509,
          0.6691577523077257,
          0.14543824212778556,
          0.8131859918436273,
          0.3999824487133279,
          0.6518650795740328,
          0.2911160521297429,
          0.05245467206655707,
          0.6965428416615471,
          0.9324740704110208,
          0.8280811437250202,
          0.9544686014121331,
          0.6780815903557251,
          0.9574500169068325,
          0.97721427580749,
          0.1980556723309137,
          0.2786527666241141,
          0.17366860181835597,
          0.6011219330719031,
          0.7002094092198836,
          0.6508651661828218,
          0.5469446134895657,
          0.941653033999873,
          0.36767101638381683,
          0.8830365313932269,
          0.3676531501528766,
          0.07022087124633902,
          0.037962951120322774,
          0.5905363974719431,
          0.1436149570877132,
          0.7653346371260006,
          0.13398036586005269,
          0.9551182436616432,
          0.1709832039499144,
          0.12954758748322126,
          0.8512715916459179,
          0.7602270698020859,
          0.2959788359742779,
          0.8327907301745416,
          0.024024939843970028,
          0.7426436088057167,
          0.31203016179959886,
          0.19036079323367572,
          0.9069583799483039,
          0.11792374611855139,
          0.03721554620216527,
          0.64946756762125,
          0.9586244217993287,
          0.5526961130690631,
          0.9129691959653159,
          0.23405111404271461,
          0.32866552683742567,
          0.8056597918716302,
          0.004419822515649985,
          0.129299045154458,
          0.1760788826891777,
          0.19071695870191152,
          0.9387466297891336,
          0.3985546713034487,
          0.999415613646389,
          0.7009516135229716,
          0.08258776153823244,
          0.9439749356115359,
          0.6295960859807741,
          0.5089792342594066,
          0.5413663231389867,
          0.04927556855952342,
          0.9827526259701607,
          0.6475832147522307,
          0.9748875236253851,
          0.8162520140460703,
          0.2630566609107454,
          0.6075048376167065,
          0.5266013272911689,
          0.8155041805229573,
          0.4181391193901052,
          0.3810633815215365,
          0.8789800063110778,
          0.6999216503630439,
    ]
    const randomIds = ['doj', 'gxtcz', 'tidyi', 'vcis', 'hxsav', 'dmfhu', 'kpquy', 'ekebs', 'adxqi', 'inkjk', 'syree', 'oocpw', 'iivws', 'esmst', 'ehgbp', 'ozsf', 'stkmn', 'lpwtd', 'ziyyk', 'vyumr', 'dwtqv', 'sith', 'uljfm', 'lcwcg', 'bouys', 'mnvvm', 'isfbl', 'amlmc', 'duirg', 'brzrm', 'ffcjz', 'wwlvv', 'yrxhp', 'hxwgo', 'nwtnu', 'gajaw', 'riise', 'tocon', 'ybpyn', 'jclhf', 'zmzgq', 'isxtt', 'laxcn', 'kxngl', 'lvqpi', 'tcqbk', 'aqcbl', 'wbkox', 'yxlri', 'bhgnz', 'uezlj', 'xzvin', 'pbqai', 'fglvk', 'zjrce', 'dhpbo', 'rjlzq', 'augpu', 'ppazt', 'oatjx', 'jrocx', 'ouxhk', 'ologu', 'ldsiq', 'rpcru', 'yukpg', 'fsxpj', 'bhaee', 'sdjpd', 'niatx', 'lrveh', 'affku', 'mwawz', 'lpgfu', 'balpa', 'wtdgv', 'zfhyi', 'ekkcs', 'lfvkw', 'tznmz', 'xmkyl', 'dgbak', 'civzp', 'qvhka', 'drimx', 'ikrda', 'midbk', 'uxxom', 'zyuuy', 'fekaf', 'sapvi', 'xifzn', 'oibk', 'zeyji', 'nbpvu', 'lqzsq', 'ropat', 'wjyvq', 'cgpmb', 'kojro']
    
    for(let i = 0; i< 100; i++){
        const position_x = randomPositionX[i] * 1600 - 400
		const position_y = randomPositionY[i] * 900 - 450
	    const position_z = randomPositionZ[i] * 900 - 500

        const scale_x = randomScaleX[i] * 2 + 1;
		const scale_y = randomScaleY[i] * 2 + 1;
		const scale_z = randomScaleZ[i] * 2 + 1;

        const rotation_x = randomRotationX[i] * 2 * Math.PI;
		const rotation_y = randomRotationY[i] * 2 * Math.PI;
		const rotation_z = randomRotationZ[i] * 2 * Math.PI;

        let isVisible = list[0].boxes.includes(randomIds[i])

        boxes.push(<Box id={randomIds[i]} position={[position_x, position_y, position_z]} boxGeometryArgs={[20, 20, 20]} scale={[scale_x, scale_y, scale_z]} rotation={[rotation_x, rotation_y, rotation_z]} addBox={addBox} removeBox={removeBox} selectedBoxes={selectedBoxes} isVisible={isVisible}/>);
    }

    const handleDelete = () => {
        deleteList(list[0].id);
        addToast("List is Deleted Successfully", {appearance: "success"});
        const path = RoutesNames.main.path;
        navigate(path);
    }

    const handleEdit = () => {
        removeAllBoxes();
        addMultipleBoxes(list[0].boxes);
        const path = `${RoutesNames.edit.path}/${list[0].name}`;
        navigate(path, {state: {id: list[0].id}});
    }
    return (
        <>
            <Layout>
                <div>
                    <div className="row">
                    <div className="col-lg-12">
                            <Header>
                                <div style={{ paddingTop: "15px", display: "flex"}}>
                                    <div>
                                        <Button onClick={() => navigate(-1)}>Back</Button>
                                    </div>
                                    
                                    <div style={{marginLeft: "auto", marginRight: "15px"}}>
                                        <Button onClick={handleDelete}>Delete</Button> &nbsp;&nbsp;&nbsp;
                                        <Button onClick={handleEdit}>Edit</Button>
                                    </div> 
                                </div>
                            </Header> 
                        </div>
                        <div className="col-lg-12" style={{backgroundColor: "red", height: "700px"}}>
                            <Canvas
                            >
                                <ambientLight />
                                <pointLight position={[10, 10, 10]} />
                                {boxes}
                            </Canvas>
                        </div>
                    </div>
                </div>
            </Layout>
        </>
    );
};
const mapStateToProps = (state) => {
    return {
      lists: state.listsData,
      selectedBoxes: state.boxSelectionData
    };
};

const mapDispatchToProps = (dispatch) => {
    return {
        addBox: (data) => {
            dispatch(addBox(data))
        },
        addMultipleBoxes: (data) => {
            dispatch(addMultipleBoxes(data))
        },
        removeBox: (id) => {
            dispatch(removeBox(id))
        },
        removeAllBoxes: () => {
            dispatch(removeAllBoxes())
        },
        deleteList: (id) => {
            dispatch(deleteList(id))
        }
    }
}
export default connect(mapStateToProps, mapDispatchToProps)(View);